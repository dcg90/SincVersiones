async function syncProvider(){const t=$(this).data("provider-id"),n=$(this).data("provider-name");try{const i=new URL(`provider/sync/${t}`,window.location.origin);await $.post(i.toString(),{});displaySuccessAlert(`El proveedor <strong>${n}</strong> ha iniciado la sincronizaci√≥n.`)}catch(i){displayErrorAlert(`Ha ocurrido un error al intentar sincronizar el proveedor <strong>${n}</strong>.`)}}function addProviderHour(){deleteHoursError();let n=0;$('input[id^="Hours_"]').each(function(t,i){const r=$(i).attr("id").match(/\d+/)[0];n=Math.max(n,+r)});$("#provider-hours").append($("<div>").addClass("col-sm-6 col-md-4 hour-container d-flex align-items-center").append($("<input>").addClass("form-control").attr("id",`Hours_${n+1}`).attr("name","Hours")).append($("<i>").addClass("fa fa-trash text-danger delete").attr("aria-label","hidden").click(removeProviderHour)))}function deleteHoursError(){$("#provider-hours > span.text-danger").remove()}function removeProviderHour(){deleteHoursError();$(this).parent().remove()}function changeProviderType(){$(".sync-type").each(function(n,t){$(t).toggleClass("hide-sync-type")})}async function pingProvider(){let n=$('input[name="Url"]').val();if(n!="")try{n=new URL("/api/ping",n).toString();try{const t=await $.get(n);t==="Pong"&&$(this).removeClass("btn-outline-secondary").addClass("btn-success")}catch(t){$(this).removeClass("btn-outline-secondary").addClass("btn-danger")}}catch(t){}}$(function(){$(".sync-provider").click(syncProvider);$("#add-provider-hour").click(addProviderHour);$(".hour-container i").click(removeProviderHour);$('.sync-type-check input[type="radio"]').change(changeProviderType);$("#ping-provider").click(pingProvider)});